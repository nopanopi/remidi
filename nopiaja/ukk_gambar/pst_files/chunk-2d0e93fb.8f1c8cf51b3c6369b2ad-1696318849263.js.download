(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e93fb"],{"8d70":function(t,a,e){"use strict";var i,r,s=e("3835"),n=e("5530"),o=e("c7eb"),c=e("1da1"),_=(e("99af"),e("4de4"),e("d3b7"),e("d81d"),e("7db0"),e("14d9"),e("4e82"),e("a434"),e("ac1f"),e("841c"),e("a9e3"),e("159b"),e("3ca3"),e("ddb0"),e("3f20"));a["a"]={namespaced:!0,state:{whats_new:[],best_seller:[],most_populars:[],new_arrival:[],promotions:[],lists:"",lists_count:0,info:"",categories:[],promos:[],articles:[],vouchers:[],brand_extra:"",brand_list:[],showModalBrand:!1,processing:{most_populars:!1,whats_new:!1,best_seller:!1},skip:{most_populars:0,whats_new:0,best_seller:0},limit:{most_populars:4,whats_new:4,best_seller:4}},mutations:{RESET_DATA_BRAND:function(t){t.info="",t.brand_extra="",t.most_populars=[],t.whats_new=[],t.best_seller=[],t.processing={most_populars:!1,whats_new:!1,best_seller:!1},t.skip={most_populars:0,whats_new:0,best_seller:0},t.limit={most_populars:4,whats_new:4,best_seller:4}},WHATS_NEW:function(t,a){var e=a.data,i=a.merge,r=void 0!==i&&i;t.whats_new=r?t.whats_new.concat(e):e},BEST_SELLER:function(t,a){var e=a.data,i=a.merge,r=void 0!==i&&i;t.best_seller=r?t.best_seller.concat(e):e},NEW_ARRIVAL:function(t,a){t.new_arrival=a},MERGE_LIST:function(t,a){var e=a.data,i=a.manufactureSlug;t.lists[i]=t.lists[i].concat(e)},LISTS:function(t,a){t.lists=a},LISTS_COUNT:function(t,a){t.lists_count=a},INFO:function(t,a){t.info=a},SET_CATEGORIES:function(t,a){t.categories=a},MOST_POPULAR:function(t,a){var e=a.data,i=a.merge,r=void 0!==i&&i;t.most_populars=r?t.most_populars.concat(e):e},TOGGLE_BRAND_VIDEO:function(t,a){var e=a.activeKey,i=a.nonActiveKey;t.info.video[i].isHidden=!0,t.info.video[e].isHidden=!1},SET_PROMOS:function(t,a){t.promos=a},SET_ARTICLES:function(t,a){t.articles=a},SET_VOUCHERS:function(t,a){t.vouchers=a},SET_BRAND_EXTRA:function(t,a){t.brand_extra=a},SET_BRAND_LIST:function(t,a){t.brand_list=a},SET_SHOW_MODAL_BRAND:function(t,a){t.showModalBrand=a},SET_PROMOTIONS:function(t,a){t.promotions=a}},actions:{getBrandVouchers:function(t,a){var e=t.commit,i=t.state,r=(t.dispatch,a.id);if(r&&"undefined"!==r&&0==i.vouchers.length){var s="".concat(this._vm.$customConfig.API.brandsVouchers,"/").concat(r,"/vouchers");return axios.get(s,{params:{fields:"_id name discount_type free_products_type voucher_info image to_date code",sort:"-created_at"}}).then((function(t){200===t.status&&t.data.data.length?e("SET_VOUCHERS",t.data.data):e("SET_VOUCHERS",[])})).catch((function(t){e("SET_VOUCHERS",[])}))}},getBrandExtra:function(t,a){var e=t.commit,i=t.state,r=(t.dispatch,a.id),s=a.is_preview,n=void 0!==s&&s;if(0==i.brand_extra.length){e("SET_ARTICLES",[]),e("SET_BRAND_EXTRA","");var o="".concat(this._vm.$customConfig.API.brandExtra),c={filter:{brand_id:r},limit:1,sort:"-update_at",fields:"_id banners brand_highlights is_active_in_sociolla"};return n&&(c.filter.is_preview=Boolean(n),c.fields="_id banners brand_highlights is_active_in_sociolla is_preview"),axios.get(o,{params:c}).then((function(t){200===t.status&&t.data.data.length?(e("SET_ARTICLES",t.data.data[0].related_articles&&t.data.data[0].related_articles.length?t.data.data[0].related_articles:[]),e("SET_BRAND_EXTRA",t.data.data)):(e("SET_ARTICLES",[]),e("SET_BRAND_EXTRA",""))})).catch((function(t){e("SET_ARTICLES",[]),e("SET_BRAND_EXTRA","")}))}},getWhatsNew:function(t,a){var e=t.commit,i=t.state,r=(t.dispatch,a.manufactureSlug),s=a.load_more,n=void 0!==s&&s,o=a.isOriginsPage;if(!i.processing.whats_new&&i.skip.whats_new<15){i.processing.whats_new=!0,12==i.skip.whats_new&&(i.limit.whats_new=3);var c={};c=o?{"brand.country_tag_id":parseInt(r)}:{"brand.slug":r};var _={sort:"-is_in_stock_sociolla -created_at",skip:i.skip.whats_new,limit:i.limit.whats_new,filter:c},u=this._vm.$customConfig.API.whatsNew;return axios.get(u,{params:_}).then((function(t){200===t.status?e("WHATS_NEW",{data:t.data.data,merge:n}):e("WHATS_NEW",{data:[],merge:n}),i.processing.whats_new=!1,i.skip.whats_new=i.skip.whats_new+i.limit.whats_new})).catch((function(t){e("WHATS_NEW",{data:[],merge:n}),i.processing.whats_new=!1}))}},getBestSeller:function(t,a){var e=t.commit,i=t.state,r=a.manufactureSlug,s=a.load_more,n=void 0!==s&&s,o=a.isOriginsPage;if(!i.processing.best_seller&&i.skip.best_seller<15){12==i.skip.best_seller&&(i.limit.best_seller=3),i.processing.best_seller=!0;var c={};c=o?{"brand.country_tag_id":parseInt(r)}:{"brand.slug":r};var _={sort:"-is_in_stock_sociolla -total_orders",skip:i.skip.best_seller,limit:i.limit.best_seller,filter:c},u=this._vm.$customConfig.API.whatsNew;return axios.get(u,{params:_}).then((function(t){200===t.status?e("BEST_SELLER",{data:t.data.data,merge:n}):e("BEST_SELLER",{data:[],merge:n}),i.processing.best_seller=!1,i.skip.best_seller=i.skip.best_seller+i.limit.best_seller})).catch((function(t){e("BEST_SELLER",{data:[],merge:n}),i.processing.best_seller=!1}))}},getPromotions:function(t,a){var e=t.commit,i=a.manufactureId,r=(a.load_more,a.is_preview),s=void 0!==r&&r;e("SET_PROMOTIONS",[]),axios.get(this._vm.$customConfig.API.promotions,{params:{filter:{object_id:i,object_type:"brand",is_preview:s},fields:"name,slug,sections,object_id,is_active_in_home_tab,is_active_in_promo_tab,position,tab_home_position",sort:"position"}}).then(function(){var t=Object(c["a"])(Object(o["a"])().mark((function t(a){var i,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:200==a.status&&a.data.data&&(i=a.data.data.map((function(t){var a=Object.assign({},t),e=t.sections.filter((function(t){return"banner"===t.type}))||[],i=[];null!==e&&void 0!==e&&e.length&&e.filter((function(t){var a;null!==t&&void 0!==t&&null!==(a=t.banner)&&void 0!==a&&a.length&&t.banner.find((function(t){"main"===t.banner_type&&i.push(t)}))}));var r=t.sections.find((function(t){return"product"===t.type}))||{};return a.section_banner=e,a.main_banner=i,a.section_product=r,a.product_list=(r.product||[]).sort((function(t,a){return t.is_in_stock===a.is_in_stock?0:t.is_in_stock?-1:1})),a.processing=!1,a.skip=4,a.limit=4,a})),r=i.filter((function(t){return s||!s&&"future-curate-collectionn"!==t.slug})),e("SET_PROMOTIONS",r));case 1:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}())},getSectionProduct:function(t,a){var e=t.state,i=a.section,r=a.index,s=Object(n["a"])({},e.promotions[r]);if(s.skip<10&&i.section_product.title)return e.promotions.splice(r,1,Object(n["a"])(Object(n["a"])({},s),{},{processing:!0})),axios.get("".concat(this._vm.$customConfig.API.promotions,"/").concat(s.object_id,"/section/").concat(i.section_product.title,"/products"),{params:{skip:s.skip,limit:s.limit,sort:"_id"}}).then((function(t){var a=[];200===t.status&&(a=t.data.data),e.promotions.splice(r,1,Object(n["a"])(Object(n["a"])({},s),{},{processing:!1,skip:s.skip+s.limit,product_list:s.product_list.concat(a)}))})).catch((function(t){e.promotions.splice(r,1,Object(n["a"])(Object(n["a"])({},s),{},{processing:!1,product_list:s.product_list.concat([])}))}))},getNewArrivals:function(t,a){var e=t.commit;t.state,t.dispatch;a.$axios.get(a.$customConfig.API.newArrivals).then((function(t){if(200===t.data.meta.code&&t.data.data){e("NEW_ARRIVAL",t.data.data);var i={},r=t.data.data;for(var s in r)i[r[s].my_sql_id]=r[s];var n=Object.assign({},a.$store.state.PRODUCTS,i);a.$store.commit("$_Products/PRODUCT_DISPLAY",n)}})).catch((function(t){}))},getProductMostPopular:function(t,a){var e=t.commit,i=t.state,r=(t.dispatch,t.rootState,a.manufactureSlug),s=a.load_more,n=void 0!==s&&s;if(!i.processing.most_populars&&i.skip.most_populars<10){i.processing.most_populars=!0;var o={filter:{is_most_popular:!0,"brand.slug":r},limit:i.limit.most_populars,skip:i.skip.most_populars},c=this._vm.$customConfig.API.search;return axios.get(c,{params:o}).then((function(t){200===t.status?e("MOST_POPULAR",{data:t.data.data,merge:n}):e("MOST_POPULAR",{data:[],merge:n}),i.processing.most_populars=!1,i.skip.most_populars=i.skip.most_populars+i.limit.most_populars})).catch((function(t){e("MOST_POPULAR",{data:[],merge:n}),i.processing.most_populars=!1}))}},loadMoreProducts:function(t,a){var e=this,i=t.commit,r=t.rootState,s=(t.state,a.manufactureSlug),n=a.isOriginsPage,o={};o=n?{"brand.country_tag_id":parseInt(s)}:{"brand.slug":s};var c={filter:o,limit:r.$_URI.queryString.limit,skip:r.$_URI.queryString.skip};if(r.$_URI.queryString.sort&&(c.sort=r.$_URI.queryString.sort,"-is_sale,-default_combination.discount_amount"===c.sort||"default_combination.discount_amount"in c.filter&&delete c.filter["default_combination.discount_amount"]),r.$_URI.queryString.category&&(c.filter["categories.id"]={$in:r.$_URI.queryString.category}),r.$_URI.queryString.prices){var _=r.$_URI.queryString.prices.split(",");c.filter["default_combination.price_after_discount"]={$gte:Number(_[0]),$lte:Number(_[1])}}if(r.$_URI.queryString.category&&(c.filter["categories.id"]={$in:r.$_URI.queryString.category}),r.$_URI.queryString.is_sale&&(c.filter["is_sale"]=!0),r.$_URI.queryString.rating){var u=[],l=r.$_URI.queryString.rating.split(",")||[];l.map((function(t){var a=Number(t);l.length>1?u.push({"review_stats.average_rating":{$gte:a,$lte:a+.999}}):(u.push({"review_stats.average_rating":{$gte:a}}),u.push({"review_stats.average_rating":{$lte:a+.999}}))})),l.length>1?c.filter["$and"]=[{$or:u}]:c.filter["$and"]=u}return r.$_URI.queryString.tags&&(c.filter["tags.id"]={$in:r.$_URI.queryString.tags.split(",")}),axios.get(this._vm.$customConfig.API.search,{params:c}).then((function(t){if(200===t.status){var a=e._vm.$get(t,"data.data",[]);i("MERGE_LIST",{data:a,manufactureSlug:s})}else i("MERGE_LIST",{data:[],manufactureSlug:s});return t})).catch((function(t){return i("MERGE_LIST",{data:[],manufactureSlug:s}),t}))},getProducts:function(t,a){var e=this,n=t.commit,o=t.state,c=t.dispatch,_=t.rootState,u=t.rootGetters,l=a.manufactureSlug,d=a.isOriginsPage;"undefined"!==typeof r&&r.cancel(!1),i=axios.CancelToken,r=i.source();var p={};p=d?{"brand.country_tag_id":parseInt(l)}:{"brand.slug":l};var g={filter:p,limit:_.$_URI.queryString.limit,skip:_.$_URI.queryString.skip};if(_.$_URI.queryString.sort&&(g.sort=_.$_URI.queryString.sort,"-is_sale,-default_combination.discount_amount"===g.sort||"default_combination.discount_amount"in g.filter&&delete g.filter["default_combination.discount_amount"]),_.$_URI.queryString.prices&&(g.prices=_.$_URI.queryString.prices),_.$_URI.queryString.brands&&(g.filter["brand.id"]={$in:_.$_URI.queryString.brands.split(",")}),_.$_URI.queryString.category&&(g.filter["categories.id"]={$in:_.$_URI.queryString.category}),_.$_URI.queryString.prices){var m=_.$_URI.queryString.prices.split(",");g.filter["default_combination.price_after_discount"]={$gte:Number(m[0]),$lte:Number(m[1])}}if(_.$_URI.queryString.rating){var f=_.$_URI.queryString.rating.split(",")||[];f.map((function(t){var a=Number(t);g.filter["review_stats.average_rating"]={$gte:a,$lte:a+.999}}))}if(_.$_URI.queryString.tags&&(g.filter["tags.id"]={$in:_.$_URI.queryString.tags.split(",")}),_.$_URI.queryString.is_sale&&(g.filter["is_sale"]=!0),_.$_URI.queryString.products){var S={all:!1,is_pre_order:!1,bundle:!1};_.$_URI.queryString.products.split(",").forEach((function(t){"all_product"===t?S.all=!0:"is_pre_order"==t?S.is_pre_order=!0:"bundle"==t&&(S.bundle=!0)})),S.is_pre_order?g.filter["is_pre_order"]=!0:S.bundle&&(g.filter["classification"]="bundle_virtual")}var h={params:g,cancelToken:r.token},v={params:g},b=u["$_URI/filterType"],I=[axios.get(this._vm.$customConfig.API.search,h)];return(!b||b&&"sort"!==b)&&I.push(axios.get("".concat(this._vm.$customConfig.API.search,"/count"),v)),Promise.all(I).then((function(t){var a=Object(s["a"])(t,2),i=a[0],r=a[1],_={},u=e._vm.$get(i,"data.data",[]);_[l]=u,_=Object.assign({},o.lists,_),n("LISTS",_),c("$_Products/storeProduct",u,{root:!0});var d=e._vm.$get(r,"data.data",0);r&&n("LISTS_COUNT",d)})).catch((function(t){console.log(t);var a={};a[l]=[],a=Object.assign({},o.lists,a),n("LISTS",a),n("LISTS_COUNT",0),c("$_Products/storeProduct",[],{root:!0})}))},getBrandInfo:function(t,a){var e=t.commit,i=(t.state,t.dispatch,a.manufactureSlug),r=a.manufactureId,s=a.isOriginsPage,n=a.fields,o="video _id desktop_banner mobile_banner description meta_title meta_keyword name meta_description logo flag country country_tag_id slug my_sociolla_sql_id my_soco_sql_id promotion i18n related_articles flashsale_brand_position brand_feature",c={limit:1,skip:0,fields:n||o};return s&&(c.filter={country_tag_id:r}),axios.get(this._vm.$customConfig.API.brandsMenu+"/".concat(i),{params:c}).then((function(t){var a=[];200===t.status&&t.data.data?(t.data.data.video.filter((function(t,e){t&&t.url&&(t.isHidden=0!==e,t.indexArray=e,a.push(t))})),t.data.data.video=a,e("INFO",t.data.data)):e("INFO",{})})).catch((function(t){e("INFO",{})}))},getBrandList:function(t,a){var e=t.commit,i=(t.state,a.manufactureSlug);return axios.get(this._vm.$customConfig.API.brandsDistinct,{params:{filter:{"brand.country_tag_id":parseInt(i)},fields:_["a"]}}).then((function(t){return 200===t.status?e("SET_BRAND_LIST",t.data.data):e("SET_BRAND_LIST",[]),t})).catch((function(t){return e("SET_CATEGORIES",[]),t}))},getCategories:function(t,a){var e=t.commit,i=t.state,r=(t.dispatch,a.manufactureSlug),s=a.isOriginsPage;if(0==i.categories.length){var n={};return n=s?{"brand.country_tag_id":parseInt(r)}:{"brand.slug":r},n["is_children"]=!0,axios.get(this._vm.$customConfig.API.categoriesDistinct,{params:{filter:n}}).then((function(t){if(200===t.status){var a=[];t.data.data&&t.data.data.length&&t.data.data.filter((function(t){1===t.parents.length&&a.push(t)})),e("SET_CATEGORIES",a)}else e("SET_CATEGORIES",[]);return t})).catch((function(t){return e("SET_CATEGORIES",[]),t}))}},getPromos:function(t,a){var e=t.commit;t.state,t.dispatch;e("SET_PROMOS",[])}}}}}]);